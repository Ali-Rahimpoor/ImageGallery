import{r as s,j as a}from"./index-CXucG-lp.js";import{b as p,g as f,c as x,s as j}from"./SkeletonLoader-eQ67Ou6L.js";const E=()=>{const[o,n]=s.useState([]),[r,c]=s.useState(!1),[l,i]=s.useState({}),d=async()=>{try{c(!0);const e="earth_data",t=f(e);if(t){n(t);return}const m=x();n(m),j(e,m),i({})}catch(e){throw console.error(e),new Error(e)}finally{c(!1)}};s.useEffect(()=>{d()},[]);const h=()=>{localStorage.removeItem("earth_data"),d()},g=e=>{window.open(e.url,"_blank")},u=e=>{i(t=>({...t,[e]:!0}))};return r||o.length===0?a.jsx(p,{}):a.jsxs(a.Fragment,{children:[a.jsx("section",{className:"mt-1 p-2 grid sm:grid-cols-3 grid-cols-2 gap-4",children:o.map((e,t)=>a.jsxs("div",{className:"relative group",children:[!l[t]&&a.jsx("div",{className:"absolute inset-0 animate-pulse bg-gray-700 rounded"}),a.jsx("img",{onDoubleClick:()=>g(e),src:e.url,className:`object-cover rounded w-full h-48 transition-opacity duration-300 ${l[t]?"opacity-100":"opacity-0"}`,alt:"Earth from space",onLoad:()=>u(t)})]},t))}),a.jsx("nav",{className:" flex items-center justify-center bg-gradient-to-tl from-zinc-900 to-zinc-600 p-2",children:a.jsx("button",{onClick:h,disabled:r,className:"shadow text-xl font-Karla bg-white/5 text-gray-200 px-8 cursor-pointer py-2 rounded",children:r?a.jsx("span",{className:"animate-spin",children:"↻"}):a.jsx("span",{className:"text-sm sm:text-lg",children:"↻ Refresh"})})})]})};export{E as default};
